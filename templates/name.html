{% extends 'base.html' %}
{% block mycss %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/index.css')}}">
{% endblock %}

{% block content %}

{% for message in get_flashed_messages() %}
<div class="alert alert-warning alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
   
 {% endfor %}

{% if name %}
    <h1> Hello {{ name }} !! </h1>
{% else %}
    <h1 class="heading">Please sign up to Continue </h1>
    <br/>
    <form method="POST">
        {{ form.hidden_tag() }}
        {{ form.name.label (class="form-label") }}
        {{ form.name(class="form-control") }}
        <br/>

        {{ form.username.label (class="form-label") }}
        {{ form.username(class="form-control") }}
        <br/>


        {{ form.email.label(class="form-label")}}
        {{ form.email(class="form-control") }}
        <br/>
    
        {{ form.password_hash.label(class="form-label")}}
        {{ form.password_hash(class="form-control") }}
        <br/>

        {{ form.password_hash2.label(class="form-label")}}
        {{ form.password_hash2(class="form-control") }}
        <br/>
        {{ form.submit(class="btn btn-secondary") }}
        
    </form>
    <a href="/login">Already registered ? proceed to Login </a>
</br> </br>
<h1 class="heading"> Registered users </h1>
    </br> </br>
    <table class="table table-dark table-striped table-hover table-bordered">
        {% for our_user in our_users %}
    <tr>
        <td>{{our_user.id }}. {{ our_user.name 
        }} - {{our_user.username }} - {{ our_user.email }} </td>
    </tr>
        {% endfor %}
    </table>
{% endif %}

{% endblock %}